{"ast":null,"code":"var _jsxFileName = \"/Users/surajpok/My_Task/SydneyUni/frontend-developer-test/src/component/page/Course.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport ReactPaginate from \"react-paginate\";\nimport { Link } from \"react-router-dom\";\nimport Error from \"./Error\";\nimport axios from \"axios\";\nimport \"../../assets/styles/main.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Course() {\n  _s();\n\n  const [subject, setSubject] = useState(\"\");\n  const [mydata, setData] = useState(null);\n  const start_count = useState(0);\n  const end_count = useState(50);\n  const url = `https://www.sydney.edu.au/s/search.html?collection=aem_courses_courses-PROD&query=${subject}&num_ranks=${end_count}&start_rank=${start_count}&form=custom-json`;\n  const [pageCount, setPageCount] = useState(0);\n  const [itemOffset, setItemOffset] = useState(0);\n  const [itemsPerPage] = useState(5);\n  const [mainData, setMainData] = useState(null);\n\n  function listData(data, offset) {\n    const endOffset = offset + itemsPerPage;\n    console.log(`Loading items from ${offset} to ${endOffset}`);\n    setData(data.slice(offset, endOffset));\n    setPageCount(Math.ceil(data.length / itemsPerPage));\n  } // Handle pagination click\n\n\n  const handlePageClick = event => {\n    const newOffset = event.selected * itemsPerPage % mainData.length;\n    setItemOffset(newOffset);\n    listData(mainData, newOffset);\n  };\n\n  const fetchSubject = () => {\n    fetch(url).then(response => {\n      if (!response.ok) {\n        throw Error(\"ERROR\");\n      }\n\n      return response.json();\n    }).then(data => {\n      const results = data.results;\n      setData(results);\n      setMainData(results);\n      listData(results, 0);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  function mySubmitFunction(e) {\n    e.preventDefault();\n    fetchSubject();\n    return false;\n  } // Generate list items\n\n\n  function DataTable(_ref) {\n    let {\n      mydata\n    } = _ref;\n    return mydata.map(item => {\n      const {\n        title,\n        path,\n        rank\n      } = item;\n      const newpath = path.replace(/\\//g, \"&\");\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subject-title\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/overview/${newpath}`,\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, rank, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this);\n    });\n  } // Build list table and pagination\n\n\n  function buildTemplate() {\n    if (mydata && mydata.length > 0) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(DataTable, {\n          mydata: mydata\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n          nextLabel: \"next >\",\n          onPageChange: handlePageClick,\n          pageRangeDisplayed: 3,\n          marginPagesDisplayed: 2,\n          pageCount: pageCount,\n          previousLabel: \"< previous\",\n          pageClassName: \"page-item\",\n          pageLinkClassName: \"page-link\",\n          previousClassName: \"page-item\",\n          previousLinkClassName: \"page-link\",\n          nextClassName: \"page-item\",\n          nextLinkClassName: \"page-link\",\n          breakLabel: \"...\",\n          breakClassName: \"page-item\",\n          breakLinkClassName: \"page-link\",\n          containerClassName: \"pagination\",\n          activeClassName: \"active\",\n          renderOnZeroPageCount: null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } else if (!mydata) {\n      return /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Please enter the search key word to view the list of items.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"search-form\",\n    onSubmit: event => mySubmitFunction(event),\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \" Sydney Uni Course Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: subject,\n          placeholder: \"Search Courses\",\n          onChange: e => {\n            setSubject(e.target.value);\n          },\n          className: \"form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: fetchSubject,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"courses\",\n      children: buildTemplate()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Course, \"iTdWsq/ceejZSt/xCri5O6Xro7Q=\");\n\n_c = Course;\nexport default Course;\n\nvar _c;\n\n$RefreshReg$(_c, \"Course\");","map":{"version":3,"names":["React","useEffect","useState","ReactPaginate","Link","Error","axios","Course","subject","setSubject","mydata","setData","start_count","end_count","url","pageCount","setPageCount","itemOffset","setItemOffset","itemsPerPage","mainData","setMainData","listData","data","offset","endOffset","console","log","slice","Math","ceil","length","handlePageClick","event","newOffset","selected","fetchSubject","fetch","then","response","ok","json","results","catch","error","mySubmitFunction","e","preventDefault","DataTable","map","item","title","path","rank","newpath","replace","buildTemplate","target","value"],"sources":["/Users/surajpok/My_Task/SydneyUni/frontend-developer-test/src/component/page/Course.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ReactPaginate from \"react-paginate\";\nimport { Link } from \"react-router-dom\";\nimport Error from \"./Error\";\nimport axios from \"axios\";\nimport \"../../assets/styles/main.css\";\n\nfunction Course() {\n  const [subject, setSubject] = useState(\"\");\n  const [mydata, setData] = useState(null);\n  const start_count = useState(0);\n  const end_count = useState(50);\n  const url = `https://www.sydney.edu.au/s/search.html?collection=aem_courses_courses-PROD&query=${subject}&num_ranks=${end_count}&start_rank=${start_count}&form=custom-json`;\n  const [pageCount, setPageCount] = useState(0);\n  const [itemOffset, setItemOffset] = useState(0);\n  const [itemsPerPage] = useState(5);\n  const [mainData, setMainData] = useState(null);\n\n  function listData(data, offset) {\n    const endOffset = offset + itemsPerPage;\n    console.log(`Loading items from ${offset} to ${endOffset}`);\n    setData(data.slice(offset, endOffset));\n    setPageCount(Math.ceil(data.length / itemsPerPage));\n  }\n  // Handle pagination click\n  const handlePageClick = (event) => {\n    const newOffset = (event.selected * itemsPerPage) % mainData.length;\n    setItemOffset(newOffset);\n    listData(mainData, newOffset);\n  };\n  const fetchSubject = () => {\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          throw Error(\"ERROR\");\n        }\n        return response.json();\n      }).then(data => {\n        const results = data.results;\n        setData(results);\n        setMainData(results);\n        listData(results, 0);\n      }).catch(error => {\n        console.log(error);\n      })\n  };\n\n  function mySubmitFunction(e) {\n    e.preventDefault();\n    fetchSubject();\n    return false;\n  }\n  // Generate list items\n  function DataTable({ mydata }) {\n    return mydata.map((item) => {\n      const { title, path, rank } = item;\n      const newpath = path.replace(/\\//g, \"&\");\n      return (\n        <div key={rank}>\n          <div className=\"subject-title\">\n            <Link to={`/overview/${newpath}`}>\n              <h3>{title}</h3>\n            </Link>\n          </div>\n        </div>\n      );\n    });\n  }\n  // Build list table and pagination\n  function buildTemplate() {\n    if (mydata && mydata.length > 0) {\n      return (\n        <>\n          <DataTable mydata={mydata} />\n          <ReactPaginate\n            nextLabel=\"next >\"\n            onPageChange={handlePageClick}\n            pageRangeDisplayed={3}\n            marginPagesDisplayed={2}\n            pageCount={pageCount}\n            previousLabel=\"< previous\"\n            pageClassName=\"page-item\"\n            pageLinkClassName=\"page-link\"\n            previousClassName=\"page-item\"\n            previousLinkClassName=\"page-link\"\n            nextClassName=\"page-item\"\n            nextLinkClassName=\"page-link\"\n            breakLabel=\"...\"\n            breakClassName=\"page-item\"\n            breakLinkClassName=\"page-link\"\n            containerClassName=\"pagination\"\n            activeClassName=\"active\"\n            renderOnZeroPageCount={null}\n          />\n        </>\n      );\n    } else if (!mydata) {\n      return (\n        <h3>Please enter the search key word to view the list of items.</h3>\n      );\n    } else {\n      return <Error />;\n    }\n  }\n\n  return (\n    <form className=\"search-form\" onSubmit={(event) => mySubmitFunction(event)}>\n      <h2> Sydney Uni Course Search</h2>\n      <div className=\"search-container\">\n        <div className=\"search-input\">\n          <input\n            type=\"text\"\n            value={subject}\n            placeholder=\"Search Courses\"\n            onChange={(e) => {\n              setSubject(e.target.value);\n            }}\n            className=\"form-input\"\n          />\n        </div>\n        <div className=\"btn-container\">\n          <button type=\"button\" onClick={fetchSubject}>\n            Search\n          </button>\n        </div>\n      </div>\n      <div className=\"courses\">{buildTemplate()}</div>\n    </form>\n  );\n}\n\nexport default Course;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}